<div class="d-flex">

    <navigation-menu></navigation-menu>

    <div class="d-flex justify-content-center mt-5 w-100">
        <form [formGroup]="sprintForm" class="d-flex flex-column w-50">

            <div>
                <mat-label>Name</mat-label>
                <input type="text" formControlName="name"
                    (change)="saveSprintChanges()" 
                    class="form-control" placeholder="name">
                <div *ngIf="name.invalid && (name.dirty || name.touched) && name.errors.required" class="text-danger">
                    Name is required.
                </div>
                <span class="text-danger">
                    {{ sprintConstraintMessage }}
                </span>
            </div>

            <div class="mt-3">
                <mat-label>Description</mat-label>
                <textarea formControlName="description"
                    (change)="saveSprintChanges()"  
                    class="form-control" rows="10">
                </textarea>
                <div *ngIf="description.invalid && (description.dirty || description.touched) && description.errors.required" 
                    class="text-danger">
                        Description is required.
                </div>
            </div>

            <div class="d-flex justify-content-between mt-3">
                <div class="w-40">
                    <label>Start Date</label>
                    <input type="date" formControlName="startDate" 
                        (change)="saveSprintChanges()" 
                        class="form-control">
                    <div *ngIf="startDate.invalid && (startDate.dirty || startDate.touched) && startDate.errors.required" 
                        class="text-danger">
                            Start Date is required.
                    </div>
                </div>

                <div class="w-40">
                    <label>End Date</label>
                    <input type="date" formControlName="endDate" 
                        (change)="saveSprintChanges()" 
                        class="form-control">
                    <div *ngIf="endDate.invalid && (endDate.dirty || endDate.touched) && endDate.errors.required" class="text-danger">
                        End Date is required.
                    </div>
                </div>
            </div>
            <div *ngIf="endDate.errors?.invalidRange && (endDate.dirty || endDate.touched)" class="text-danger">
                Start Date must be before End Date
            </div>

            <div class="d-flex justify-content-between mt-5">
                <div class="w-25">
                    <main-button class="delete-button" (click)="delete()" [label]="'Delete'"></main-button>
                </div>
            </div>

        </form>
    </div>
</div>