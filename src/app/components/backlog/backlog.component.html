<div class="d-flex justify-content-between">

    <navigation-menu></navigation-menu>

    <div>
        <div class="d-flex justify-content-end mr-5 mt-5">
            <div class="w-15">
                <main-button id="createUserstory" (click)="navigateToCreateUserStory()" [label]="'Add Userstory'"></main-button>
            </div>
        </div>
        <div class="mat-elevation-z8 m-5">
            <table mat-table [dataSource]="dataSource" class="w-100">
        
                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef class="w-25"> <h2 id="nameColumn">Name</h2> </th>
                        <td mat-cell *matCellDef="let userstory"> <p class="truncate ml-1">{{userstory.name}}</p> </td>
                    </ng-container>
                
                    <!-- Description Column -->
                    <ng-container matColumnDef="description">
                        <th mat-header-cell *matHeaderCellDef class="w-50"><h2 id="descriptionColumn">Description</h2></th>
                        <td mat-cell *matCellDef="let userstory"> <p class="description-column truncate">{{userstory.description}}</p> </td>
                    </ng-container>
                
                    <!-- Assignee Column -->
                    <ng-container matColumnDef="assignee">
                        <th mat-header-cell *matHeaderCellDef class="w-10 text-center"> <h2 id="assigneeColumn">Assignee</h2> </th>
                        <td mat-cell *matCellDef="let userstory" class="text-center"> <p class="truncate">{{userstory.assignee}}</p> </td>
                    </ng-container>

                    <!-- Status Column -->
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef class="text-center"> <h2 id="statusColumn">Status</h2> </th>
                        <td mat-cell *matCellDef="let userstory" class="w-10 text-center"> <p>{{userstory.status}}</p> </td>
                    </ng-container>

                    <!-- Storypoints Column -->
                    <ng-container matColumnDef="points">
                        <th mat-header-cell *matHeaderCellDef class="w-5"> <h2 id="pointsColumn">Points</h2> </th>
                        <td mat-cell *matCellDef="let userstory" class="text-center"> <p>{{userstory.storypoints}}</p> </td>
                    </ng-container>
                    
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell text-center" colspan="5">No userstories found in the backlog</td>
                    </tr>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr 
                        mat-row 
                        *matRowDef="let userstory; columns: displayedColumns;"
                        routerLink="/project/{{projectId}}/userstory/{{userstory.id}}/details">
                    </tr>
            </table>
        </div>
    </div>
</div>