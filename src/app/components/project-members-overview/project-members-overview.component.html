<div class="d-flex justify-content-between">

    <navigation-menu></navigation-menu>

    <div>
        <div class="d-flex justify-content-end mr-5 mt-5">
            <main-button class="w-10 CreateButton" (click)="addMember()" [label]="'Add member'"></main-button>
        </div>
        <div class="mat-elevation-z8 m-5">
            <table mat-table [dataSource]="dataSource" class="w-100">
        
                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef> <h2>Name</h2> </th>
                        <td mat-cell (click)="this.updateMember(member)" *matCellDef="let member"> <p class="truncate ml-1">{{member.username}}</p> </td>
                    </ng-container>
                
                    <!-- Role Column -->
                    <ng-container matColumnDef="role">
                        <th mat-header-cell *matHeaderCellDef><h2>Role</h2></th>
                        <td mat-cell (click)="this.updateMember(member)" *matCellDef="let member"> <p class="description-column truncate">{{member.role}}</p> </td>
                    </ng-container>

                    <!-- Buttons Column -->
                    <ng-container matColumnDef="addUpdate">
                        <th mat-header-cell *matHeaderCellDef class="w-50">
                        </th>
                        <mat-cell *matCellDef="let member">
                            <div class="buttonContainer">
                              <main-button *ngIf="member.role !== 'owner'" (click)="this.removeMember(member)" label="Delete">
                      
                              </main-button>
                            </div>
                        </mat-cell>
                      </ng-container>
                    
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell text-center" colspan="5">No projectmembers currently added</td>
                    </tr>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr 
                        mat-row 
                        *matRowDef="let member; columns: displayedColumns;">
                    </tr>
            </table>
        </div>
    </div>
</div>